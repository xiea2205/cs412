{% extends 'restaurant/base.html' %}

{% block title %}Bella Vista Restaurant - Order Confirmation{% endblock %}

{% block content %}
<div class="container">
    <h1>Order Confirmation</h1>
    
    <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
        <h2 style="color: #155724; margin-top: 0;">âœ… Your Order Has Been Placed Successfully!</h2>
        <p style="color: #155724; margin-bottom: 0;">Thank you for your order. We'll start preparing it right away!</p>
    </div>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
        <div>
            <h2>Order Details</h2>
            {% if ordered_items %}
                <ul style="list-style: none; padding: 0;">
                    {% for item in ordered_items %}
                    <li style="padding: 0.5rem; margin-bottom: 0.5rem; background: #f8f9fa; border-radius: 4px; display: flex; justify-content: space-between;">
                        <span>{{ item.name }}</span>
                        <span class="price">${{ item.price }}</span>
                    </li>
                    {% endfor %}
                </ul>
                <div class="total">
                    Total: ${{ total_price|floatformat:2 }}
                </div>
            {% else %}
                <p style="color: #dc3545;">No items were selected for this order.</p>
            {% endif %}
            
            {% if special_instructions %}
            <div style="margin-top: 2rem;">
                <h3>Special Instructions</h3>
                <p style="background: #fff3cd; padding: 1rem; border-radius: 4px; border-left: 4px solid #ffc107;">
                    {{ special_instructions }}
                </p>
            </div>
            {% endif %}
        </div>
        
        <div>
            <h2>Customer Information</h2>
            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 5px;">
                <p><strong>Name:</strong> {{ customer_name }}</p>
                <p><strong>Phone:</strong> {{ customer_phone }}</p>
                <p><strong>Email:</strong> {{ customer_email }}</p>
            </div>
            
            <h2>Pickup Information</h2>
            <div style="background: #fff3cd; padding: 1.5rem; border-radius: 5px; border-left: 4px solid #ffc107;">
                <p><strong>Estimated Ready Time:</strong></p>
                <p style="font-size: 1.2rem; font-weight: bold; color: #856404;">
                    {{ ready_time|date:"l, F j, Y \a\t g:i A" }}
                </p>
                <p style="margin-bottom: 0;"><strong>Pickup Location:</strong><br>
                123 Main Street, Boston, MA 02215</p>
            </div>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: #f8f9fa; border-radius: 8px;">
        <h3>What's Next?</h3>
        <p>We'll send you a text message when your order is ready for pickup. If you have any questions, please call us at <strong>(617) 555-0123</strong>.</p>
        
        <div style="margin-top: 2rem;">
            <a href="{% url 'main' %}" class="btn" style="margin-right: 1rem;">Back to Home</a>
            <a href="{% url 'order' %}" class="btn">Place Another Order</a>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 2rem; color: #6c757d;">
        <p><em>Order Number: #{{ ready_time|date:"YmdHis" }}</em></p>
    </div>
</div>
{% endblock %}